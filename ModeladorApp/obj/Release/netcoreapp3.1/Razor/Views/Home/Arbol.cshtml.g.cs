#pragma checksum "C:\Users\didie\source\repos\ModeladorApp\ModeladorApp\Views\Home\Arbol.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "bde1e7db0138e8d959ee09d20e24104c61c88502"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Home_Arbol), @"mvc.1.0.view", @"/Views/Home/Arbol.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\didie\source\repos\ModeladorApp\ModeladorApp\Views\_ViewImports.cshtml"
using ModeladorApp;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\didie\source\repos\ModeladorApp\ModeladorApp\Views\_ViewImports.cshtml"
using ModeladorApp.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"bde1e7db0138e8d959ee09d20e24104c61c88502", @"/Views/Home/Arbol.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"a004a41642ca9f278fa6fb07d1d5fc2e7164305b", @"/Views/_ViewImports.cshtml")]
    public class Views_Home_Arbol : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<IEnumerable<ModeladorApp.Models.Entities.TB_PERMISOS>>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("selected", new global::Microsoft.AspNetCore.Html.HtmlString(""), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("value", "SHOWALL", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("value", "HIDEALL", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("example"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("<html>\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("head", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "bde1e7db0138e8d959ee09d20e24104c61c885024681", async() => {
                WriteLiteral(@"
    <meta http-equiv=""content-type"" content=""text/html; charset=ISO-8859-1"" />

    <title>ON - Modelador Web</title>

    <link rel=""stylesheet"" href=""https://cdnjs.cloudflare.com/ajax/libs/jquery.fancytree/2.38.0/skin-awesome/ui.fancytree.min.css"">
    <link rel=""stylesheet"" href=""https://cdnjs.cloudflare.com/ajax/libs/jquery.fancytree/2.38.0/skin-bootstrap-n/ui.fancytree.min.css"">
    <link rel=""stylesheet"" href=""https://cdnjs.cloudflare.com/ajax/libs/jquery.fancytree/2.38.0/skin-bootstrap/ui.fancytree.min.css"">
    <link rel=""stylesheet"" href=""https://cdnjs.cloudflare.com/ajax/libs/jquery.fancytree/2.38.0/skin-xp/ui.fancytree.min.css"">

    <script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js""></script>
    <!-- This demo uses an 3rd-party, jQuery UI based context menu -->
    <link href=""//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"" rel=""stylesheet"" />
    <script src=""//code.jquery.com/ui/1.12.1/jquery-ui.min.js""></script>
    <!-- jquery-contextmenu (https:");
                WriteLiteral(@"//github.com/mar10/jquery-ui-contextmenu/) -->
    <script src=""//cdn.jsdelivr.net/npm/ui-contextmenu/jquery.ui-contextmenu.min.js""></script>

    <style type=""text/css"">
        .ui-menu {
            width: 180px;
            font-size: 63%;
        }

            .ui-menu kbd {
                /* Keyboard shortcuts for ui-contextmenu titles */
                float: right;
            }
        /* custom alignment (set by 'renderColumns'' event) */
        td.alignRight {
            text-align: right;
        }

        td.alignCenter {
            text-align: center;
        }

        td input[type=""input""] {
            width: 40px;
        }

        /*scroll horizontal para ver las columnas que van añadiendo a derecha*/
        div.tab-pane {
            overflow: auto;
            white-space: nowrap;
        }
    </style>

    <script type=""text/javascript"">

        window.onload = loadTree();

        var CLIPBOARD = null;
        var tempPyId; // servirá pa");
                WriteLiteral(@"ra deshacernos de la vista del proyecto.

        var pySelected; //servira para identificar los valores de las cajitas por el id del tree elegido.

        async function loadTree(vIdProject, vPermiso) {

            var treeReach; //la que rendizará los datos en la tabla.
            var data; // la que contendra la data de la función asyncrona.

            //console.log(vPermiso);

            if (typeof (vIdProject) === 'undefined' || vIdProject == 0) {

                data = await funGetMasterData()
                treeReach = ""tree_0"";

                pySelected = 0;
            } else {
                data = await funGetPyFromUsuario(vIdProject)
                treeReach = ""tree_"" + vIdProject;
                tempPyId = vIdProject;

                pySelected = vIdProject;
            }

            if (data.length >= 1) {

                $(""#loader"").hide();

                if (typeof (vIdProject) === 'undefined' || vIdProject == 0) {

                    $(""#proy");
                WriteLiteral(@"ecto_"" + tempPyId).removeClass('active');
                    $('#proyecto_0').attr('class', ""tab-pane active"");

                } else {

                    $(""#proyecto_0"").removeClass('active');
                    $('#proyecto_' + vIdProject).attr('class', ""tab-pane active"");
                }

                $(function () {

                    $(""#"" + treeReach).fancytree({

                        titlesTabbable: true, // Add all node titles to TAB chain
                        quicksearch: true, // Jump to nodes when pressing first character
                        source: data,
                        // Llamada cada vez que se expande un nodo LAZY.
                        lazyLoad: function (event, data) {

                            var node = data.node;     //obtenemos el nodo
                            /*console.log(node.data.id);*/ // obtenemos el id para mandarlo como parent
                            //console.log(node.data.parentId)

                            da");
                WriteLiteral(@"ta.result = {
                                url: ""/Home/funGetSubLvls"",
                                data: { parent: node.data.id },
                                cache: false
                            };
                        },

                        extensions: [""edit"", ""dnd5"", ""table"", ""gridnav""],

                        dnd5: {
                            preventVoidMoves: true,
                            preventRecursion: true,
                            autoExpandMS: 400,
                            dragStart: function (node, data) {


                                //function saveData(node.data.id);

                                return true;
                            },
                            dragEnter: function (node, data) {
                                // return [""before"", ""after""];
                                return true;
                            },
                            dragDrop: function (node, data) {
                          ");
                WriteLiteral(@"      data.otherNode.moveTo(node, data.hitMode);
                            },
                        },
                        edit: {
                            triggerStart: [""f2"", ""shift+click"", ""mac+enter""],
                            close: function (event, data) {

                                if (data.save && data.isNew) {
                                    // Quick-enter: add new nodes until we hit [enter] on an empty title

                                    $(""#tree"").trigger(""nodeCommand"", {
                                        cmd: ""addSibling"",
                                    });

                                    //console.log(""Se presionó ENTER"");
                                    //console.log(""------------------->>"");
                                    //console.log(data.node.title); //enviar como title
                                    //console.log(data.node.parent.data.id) //enviar como parent id
                                    //console.log(d");
                WriteLiteral(@"ata.node.parent.data.proyectoId) //enviar como proyectoId

                                    //------------------------>>AJAX GRABAR NVO NODO
                                    //console.log(data.node.parent.data);
                                    if (typeof (data.node.parent.data.parentId) === 'undefined') {

                                        Swal.fire('ADVERTENCIA', 'Intentas agregar un nodo hermano a la raiz del Árbol, aparecerá en la vista temporal, mas no se guardarán los cambios.', 'warning')

                                    } else if (vPermiso == ""EDITOR"") {
                                        $.ajax({
                                            type: ""POST"",
                                            dataType: ""json"",
                                            url: ""/Home/funInsertLvl"",
                                            data: {
                                                ""titulo"": data.node.title,
                                                ""paren");
                WriteLiteral(@"t"": data.node.parent.data.id,
                                                ""projectId"": data.node.parent.data.proyectoId
                                            },
                                            success: function (response) {
                                                //console.log(response);
                                            },
                                        });
                                        //------------------------>>AJAX GRABAR NVO NODO
                                        data.node.parent.resetLazy() //Recarga de nodo padre para obtener los ids de la data creada.
                                    } else {

                                        Swal.fire('ADVERTENCIA', 'Puedes editar el proyecto en su respectiva pestaña EDITOR, si tienes el permiso correspondiente.', 'warning')
                                    }
                                }
                            },
                        },
                        ");
                WriteLiteral(@"table: {
                            indentation: 20,
                            nodeColumnIdx: 1,
                            //checkboxColumnIdx: 0, //para poner checkboxes en la columna 1
                        },
                        gridnav: {
                            autofocusInput: false,
                            handleCursorKeys: true,
                        },
                        createNode: function (event, data) {
                            var node = data.node,
                                $tdList = $(node.tr).find("">td"");

                            //console.log(""Desglose de nodo..."");

                            // Span the remaining columns if it's a folder.
                            // We can do this in createNode instead of renderColumns, because
                            // the `isFolder` status is unlikely to change later
                            if (node.isFolder()) {
                                $tdList
                                 ");
                WriteLiteral(@"   .eq(2)
                                    .prop(""colspan"", 6)
                                    .nextAll()
                                    .remove();
                            }
                        },
                        renderColumns: function (event, data) {
                            var node = data.node,
                                $tdList = $(node.tr).find("">td"");

                            //console.log(data);
                            // (Index #0 is rendered by fancytree by adding the checkbox)
                            // Set column #1 info from node data:
                            $tdList.eq(0).text(node.getIndexHier());
                            // (Index #2 is rendered by fancytree)                          

                            //---------------------------------------------------------->>>
                            //console.log(pySelected)
                            var titles = funGetTitulos(pySelected)
                          ");
                WriteLiteral(@"  titles.then(function (result) {

                                //console.log(result);

                                var colName = """";

                                if (result.length != 0) {
                                    // 50 cajas para nombres de  columnas.

                                    var g = 1;

                                    var columnHide = 2; // empieza en 2 la grilla del cuerpo de las columnas
                                    for (h = 0; h <= result.length - 1; h++) {

                                        $('#' + treeReach + '_colth_' + result[h].tituloID).remove(); //removemos para que no se vuelvan a crear.
                                        colName = colName + '<th id=""' + treeReach + '_colth_' + result[h].tituloID + '""><input id=""' + treeReach + '_colname_' + result[h].tituloID + '"" onchange=""InsertUpdateTitulo(`' + treeReach + '_colname`,' + h + ',' + result[h].tituloID + ',' + pySelected + ',`' + vPermiso + '` )"" type=""text"" value=""' + result");
                WriteLiteral(@"[h].titulo + '""></th>';


                                        //seteamos el mismo id de los datos de los titulos para ocultar el cuerpo de las columnas;
                                        $tdList[columnHide].id = treeReach + '_coltd_' + result[h].tituloID;
                                        columnHide = columnHide + 1;
                                        //seteamos el mismo id de los datos de los titulos para ocultar el cuerpo de las columnas;
                                    }

                                    g = g + 1;

                                    for (f = g; f <= 48; f++) {

                                        $('#' + treeReach + '_colth_' + f).remove(); //removemos para que no se vuelvan a crear.
                                        colName = colName + '<th id=""' + treeReach + '_colth_' + f + '""><input id=""' + treeReach + '_colname' + f + '"" onchange=""InsertUpdateTitulo(`' + treeReach + '_colname`,' + f + ',' + 0 + ',' + pySelected + ',`' + vPermiso + ");
                WriteLiteral(@"'`  )"" type=""text"" placeholder=""col nombre""></th>';
                                    }                         


                                    $('#head_' + treeReach).append(colName).fadeIn(300000);

                                } else {

                                    for (i = 1; i <= 48; i++) {

                                        $('#' + treeReach + '_colth_' + i).remove(); //removemos para que no se vuelvan a crear.
                                        colName = colName + '<th id=""' + treeReach + '_colth_' + i + '""><input id=""' + treeReach + '_colname' + i + '"" onchange=""InsertUpdateTitulo(`' + treeReach + '_colname`,' + i + ',' + 0 + ',' + pySelected + ',`' + vPermiso + '`  )"" type=""text"" placeholder=""col nombre ' + i + '""></th>';
                                    }
                                    $('#head_' + treeReach).append(colName).fadeIn(300000);

                                }
                            });

                            //console");
                WriteLiteral(@".log($tdList);
                            //console.log(node.data.id);
                            //---------> obtener los datos de la tabla TB_NIVEL_INFO segun el id.
                            var info = funGetInfo(node.data.id)
                            info.then(function (result) {

                                // Si la longitud del resultado es distinta de 0 hay datos.
                                if (result.length != 0) {

                                    var m = 2;

                                    for (n = 0; n <= result.length - 1; n++) {

                                        for (i = 2; i <= 52; i++) {

                                            $tdList.eq(m).html('<input type=""text"" id=""' + treeReach + '_colvalue' + result[n].infoID + '"" value=""' + result[n].informacion + '"" onchange=""insertOrUpdateInfoGrilla(`tree_' + pySelected + '`,`' + result[n].infoID + '`,`' + 0 + '`,`' + 0 + '`,`' + vPermiso + '`)"">');
                                        }

        ");
                WriteLiteral(@"                                m = m + 1;

                                        for (j = m; j <= 52; j++) {

                                            $tdList.eq(j).html('<input id=""' + treeReach + '_colvalue_' + j + '_' + node.data.id + '"" onchange=""insertOrUpdateInfoGrilla(`tree_' + pySelected + '`,`' + 0 + '`,`' + j + '`,`' + node.data.id + '`,`' + vPermiso + '`)"" type=""text""/>');

                                        }
                                    }
                                } else { // Sino no hay ningun dato en las cajas de un arbol. crear las cajas desde 0

                                    console.log(""Construir desde 0"");
                                    for (k = 2; k <= 52; k++) {

                                        $tdList.eq(k).html('<input id=""' + treeReach + '_colvalue_' + k + '_' + node.data.id + '"" onchange=""insertOrUpdateInfoGrilla(`tree_' + pySelected + '`,`' + 0 + '`,`' + k + '`,`' + node.data.id + '`,`' + vPermiso + '`)"" type=""text""/>');

    ");
                WriteLiteral(@"                                }
                                }

                            });
                            // Podemos setear la información en la columna 2 (la que continua al titulo.)
                            //$tdList.eq(2).find(""input"").val(""hola"");
                            //$tdList.eq(2).html('<input type=""text"" value=""' + node.data.id + '"">');
                        },
                        modifyChild: function (event, data) {
                            data.tree.info(event.type, data);

                            //console.log(data.childNode.data.id);
                            //console.log(data.childNode.title); //nombre a actualizar
                            //console.log(""------------>>"")

                            if (data.node.parent != null) {
                                //console.log(""Tiene parent"")
                                //Buscar que solo actualice nodos cuando tienen un id
                                try {
            ");
                WriteLiteral(@"                        if (data.childNode.data.id != null && vPermiso == ""EDITOR"") {
                                        //console.log(""entro al update"")
                                        //------------------------>>AJAX Actualizar Nombre de Nodos hijos
                                        $.ajax({
                                            type: ""POST"",
                                            dataType: ""json"",
                                            url: ""/Home/funUpdateLvlName"",
                                            data: {
                                                ""Id"": data.childNode.data.id,
                                                ""nombre"": data.childNode.title,
                                            },
                                            success: function (response) {
                                                //console.log(response);
                                            },
                                        });
    ");
                WriteLiteral(@"                                    //------------------------>>AJAX Actualizar Nombre de Nodos hijos
                                    }
                                } catch (error) {
                                    //console.log(""entro al error"")
                                    //console.error(error);
                                }

                            } else if (data.childNode.data.id != null && vPermiso == ""EDITOR"") {
                                //console.log(""No se puede realizar nada sin nodo padre."");
                                //console.log(data.childNode.data.id) //id para actualizar nombre del nodo padre
                                //console.log(data.childNode.title) //nuevo titulo de nodo padre.

                                //------------------------>>AJAX Actualizar Nombre de Nodo Padre
                                $.ajax({
                                    type: ""POST"",
                                    dataType: ""json"",
            ");
                WriteLiteral(@"                        url: ""/Home/funUpdateLvlName"",
                                    data: {
                                        ""Id"": data.childNode.data.id,
                                        ""nombre"": data.childNode.title,
                                    },
                                    success: function (response) {
                                        //console.log(response);
                                    },
                                });
                                //------------------------>>AJAX Actualizar Nombre de Nodo Padre

                            }

                        },
                    })
                        .on(""nodeCommand"", function (event, data) {
                            // Custom event handler that is triggered by keydown-handler and
                            // context menu:
                            var refNode,
                                moveMode,
                                tree = $.ui.fancy");
                WriteLiteral(@"tree.getTree(this),
                                node = tree.getActiveNode();

                            //console.log(""--------------------->>Add"")
                            //console.log(node.data.id) //enviar como parent id
                            //console.log(node.childNode) //enviar como parent id
                            //console.log(""--------------------->>Add"")

                            switch (data.cmd) {
                                case ""addChild"":
                                case ""addSibling"":
                                //console.log(""------------>>"")
                                //console.log(data.cmd)
                                case ""indent"":
                                case ""moveDown"":
                                case ""moveUp"":
                                case ""outdent"":

                                case ""remove"":
                                    tree.applyCommand(data.cmd, node);

                                   ");
                WriteLiteral(@" if (data.cmd == ""remove"" && vPermiso == ""EDITOR"") {

                                        //console.log(node.data.id); // id a eliminar padre e hijos.
                                        //------------------------>>AJAX Eliminar Nivel Padre e Hijos
                                        $.ajax({
                                            type: ""POST"",
                                            dataType: ""json"",
                                            url: ""/Home/funDeleteLvlAndSublvls"",
                                            data: {
                                                ""Id"": node.data.id,
                                            },
                                            success: function (response) {
                                                //console.log(response);
                                            },
                                        });
                                        //------------------------>>AJAX Eliminar Nivel Padre e ");
                WriteLiteral(@"Hijos
                                    };

                                    break;

                                case ""rename"":
                                    tree.applyCommand(data.cmd, node);

                                    break;
                                case ""cut"":
                                    CLIPBOARD = { mode: data.cmd, data: node };
                                    break;
                                case ""copy"":
                                    CLIPBOARD = {
                                        mode: data.cmd,
                                        data: node.toDict(true, function (dict, node) {
                                            delete dict.key;
                                        }),
                                    };
                                    break;
                                case ""clear"":
                                    CLIPBOARD = null;
                                    break;
             ");
                WriteLiteral(@"                   case ""paste"":
                                    if (CLIPBOARD.mode === ""cut"") {
                                        // refNode = node.getPrevSibling();
                                        CLIPBOARD.data.moveTo(node, ""child"");
                                        CLIPBOARD.data.setActive();
                                    } else if (CLIPBOARD.mode === ""copy"") {
                                        node.addChildren(
                                            CLIPBOARD.data
                                        ).setActive();
                                    }
                                    break;
                                case ""showgrid"":
                                    //tree.applyCommand(data.cmd, node);
                                    console.log(""Mostrar columnas"");
                                    console.log(node)
                                    //console.log(node.data.id); // id del nodo.
                              ");
                WriteLiteral(@"      //addColumn(treeReach, node.data.id);
                                    break;
                                case ""hidegrid"":
                                    //tree.applyCommand(data.cmd, node);
                                    console.log(""ocultar columnas"");
                                    console.log(node)
                                    //console.log(node.data.id); // id del nodo.
                                    //addColumn(treeReach, node.data.id);
                                    break;
                                case ""newcolumn"":
                                    //tree.applyCommand(data.cmd, node);
                                    console.log(""Nueva columna"");
                                    console.log(node)
                                    //console.log(node.data.id); // id del nodo.
                                    //addColumn(treeReach, node.data.id);
                                    break;
                                defau");
                WriteLiteral(@"lt:
                                    alert(""Unhandled command: "" + data.cmd);
                                    return;
                            }
                        })
                        .on(""keydown"", function (e) {
                            var cmd = null;

                            // console.log(e.type, $.ui.fancytree.eventToString(e));
                            switch ($.ui.fancytree.eventToString(e)) {
                                case ""ctrl+shift+n"":
                                case ""meta+shift+n"": // mac: cmd+shift+n
                                    cmd = ""addChild"";
                                    break;
                                case ""ctrl+c"":
                                case ""meta+c"": // mac
                                    cmd = ""copy"";
                                    break;
                                case ""ctrl+v"":
                                case ""meta+v"": // mac
                                    cmd = ""paste""");
                WriteLiteral(@";
                                    break;
                                case ""ctrl+x"":
                                case ""meta+x"": // mac
                                    cmd = ""cut"";
                                    break;
                                case ""ctrl+n"":
                                case ""meta+n"": // mac
                                    cmd = ""addSibling"";
                                    break;
                                case ""del"":
                                case ""meta+backspace"": // mac
                                    cmd = ""remove"";
                                    break;
                                // case ""f2"":  // already triggered by ext-edit pluging
                                //   cmd = ""rename"";
                                //   break;
                                case ""ctrl+up"":
                                case ""ctrl+shift+up"": // mac
                                    cmd = ""moveUp"";
                   ");
                WriteLiteral(@"                 break;
                                case ""ctrl+down"":
                                case ""ctrl+shift+down"": // mac
                                    cmd = ""moveDown"";
                                    break;
                                case ""ctrl+right"":
                                case ""ctrl+shift+right"": // mac
                                    cmd = ""indent"";
                                    break;
                                case ""ctrl+left"":
                                case ""ctrl+shift+left"": // mac
                                    cmd = ""outdent"";
                            }
                            if (cmd) {
                                $(this).trigger(""nodeCommand"", { cmd: cmd });
                                return false;
                            }
                        });

                    /*
                     * Tooltips
                     */
                    // $(""#tree"").tooltip({
                ");
                WriteLiteral(@"    //   content: function () {
                    //     return $(this).attr(""title"");
                    //   }
                    // });

                    /*
                     * Context menu (https://github.com/mar10/jquery-ui-contextmenu)
                     */
                    $(""#"" + treeReach).contextmenu({
                        delegate: ""span.fancytree-node"",
                        menu: [
                            {
                                title: ""Editar <kbd>[F2]</kbd>"",
                                cmd: ""rename"",
                                uiIcon: ""ui-icon-pencil"",
                            },
                            {
                                title: ""Eliminar <kbd>[Del]</kbd>"",
                                cmd: ""remove"",
                                uiIcon: ""ui-icon-trash"",
                            },
                            { title: ""----"" },
                            {
                                title: ""Nu");
                WriteLiteral(@"evo Hermano <kbd>[Ctrl+N]</kbd>"",
                                cmd: ""addSibling"",
                                uiIcon: ""ui-icon-plus"",
                            },
                            {
                                title: ""Nuevo Hijo <kbd>[Ctrl+Shift+N]</kbd>"",
                                cmd: ""addChild"",
                                uiIcon: ""ui-icon-arrowreturn-1-e"",
                            }, {
                                title: ""Mostrar Grilla"",
                                cmd: ""showgrid"",
                            },
                            {
                                title: ""Ocultar Grilla"",
                                cmd: ""hidegrid"",
                            },
                            {
                                title: ""Nueva Columna"",
                                cmd: ""newcolumn"",
                                uiIcon: ""ui-icon-plus"",
                            },
                            //{ title: ""----"" ");
                WriteLiteral(@"},
                            //{
                            //    title: ""Cortar <kbd>Ctrl+X</kbd>"",
                            //    cmd: ""cut"",
                            //    uiIcon: ""ui-icon-scissors"",
                            //},
                            //{
                            //    title: ""Copiar <kbd>Ctrl-C</kbd>"",
                            //    cmd: ""copy"",
                            //    uiIcon: ""ui-icon-copy"",
                            //},
                            //{
                            //    title: ""Pegar as child<kbd>Ctrl+V</kbd>"",
                            //    cmd: ""paste"",
                            //    uiIcon: ""ui-icon-clipboard"",
                            //    disabled: true,
                            //},

                        ],
                        beforeOpen: function (event, ui) {
                            var node = $.ui.fancytree.getNode(ui.target);
                            $(""#"" + treeReach).contextme");
                WriteLiteral(@"nu(
                                ""enableEntry"",
                                ""paste"",
                                !!CLIPBOARD
                            );
                            node.setActive();
                        },
                        select: function (event, ui) {
                            var that = this;
                            // delay the event, so the menu can close and the click event does
                            // not interfere with the edit control
                            setTimeout(function () {
                                $(that).trigger(""nodeCommand"", { cmd: ui.cmd });
                            }, 100);
                        },
                    });

                }); //---------> End Fancytree..

            } else {

                //console.log(""proyecto de usuario"");

            } //--------> End If
        }

        //---------------- carga de proyecto MASTER
        function funGetMasterData() {
          ");
                WriteLiteral(@"  var url = ""/Home/funGetLvl"";
            return $.get(url, {}, function (data) {
                //console.log(data);
            });
        };

        //---------------- carga de proyecto de Usuario...
        function funGetPyFromUsuario(vIdProject) {
            var url = ""/Home/funGetLvlFromPyUsuario"";
            return $.get(url, { idProyecto: vIdProject }, function (data) {
                //console.log(data);
            });
        };
        //-------------------------------- para obtener los titulos de las columnas...
        async function funGetTitulos(pyId) {
            return titles = await funGetTitlesFromDB(pyId);
            //var info = await funGetInfoFromDB(lvlID);
            //console.log(info)
        };

        function funGetTitlesFromDB(pyId) {
            var url = ""/Home/funGetColumnTitles"";
            return $.get(url, { idProyecto: pyId }, function (data) {
                //console.log(data);
            });
        }

        function InsertUp");
                WriteLiteral(@"dateTitulo(tree, i, id, idpy, permiso) {

            //console.log(permiso);

            if (typeof (permiso) === 'undefined' || permiso == ""VIEWER"") {

                Swal.fire('ADVERTENCIA', 'Puedes editar el proyecto en su respectiva pestaña EDITOR, si tienes el permiso correspondiente.', 'warning')

            } else {

                var urlToGo = """";
                var dataToGo;
                //console.log(tree, i)
                if (id > 0) {

                    var tituloUpdate = $('#' + tree + ""_"" + id).val();

                    //console.log(tree);
                    //console.log(tituloUpdate);

                    urlToGo = ""/Home/funUpdateTitulo"";
                    dataToGo = { ""id"": id, ""title"": tituloUpdate }

                    $.ajax({
                        type: ""POST"",
                        dataType: ""json"",
                        url: urlToGo,
                        data: dataToGo,
                        success: function (response) {

 ");
                WriteLiteral(@"                           if (response > 0) {

                                Swal.fire({
                                    toast: true,
                                    background: 'orange',
                                    icon: 'success',
                                    title: 'Titulo actualizado',
                                    animation: false,
                                    position: 'bottom',
                                    showConfirmButton: false,
                                    timer: 3000,
                                    timerProgressBar: true,
                                    didOpen: (toast) => {
                                        toast.addEventListener('mouseenter', Swal.stopTimer)
                                        toast.addEventListener('mouseleave', Swal.resumeTimer)
                                    }
                                })

                            } else {

                                Swal.fire({
   ");
                WriteLiteral(@"                                 toast: true,
                                    background: 'orange',
                                    icon: 'error',
                                    title: 'Hubo un problema',
                                    animation: false,
                                    position: 'bottom',
                                    showConfirmButton: false,
                                    timer: 3000,
                                    timerProgressBar: true,
                                    didOpen: (toast) => {
                                        toast.addEventListener('mouseenter', Swal.stopTimer)
                                        toast.addEventListener('mouseleave', Swal.resumeTimer)
                                    }
                                })
                            }
                        },
                    });


                } else {

                    var tituloInsert = $('#' + tree + i).val();
           ");
                WriteLiteral(@"         //console.log(tituloInsert)
                    urlToGo = ""/Home/funInsertTitulo"";
                    dataToGo = { ""proyectoId"": idpy, ""title"": tituloInsert }

                    $.ajax({
                        type: ""POST"",
                        dataType: ""json"",
                        url: urlToGo,
                        data: dataToGo,
                        success: function (response) {

                            if (response > 0) {

                                //removemos la funcion onchange y la volvemos a agregar solo con los parametros necesarios para la actualizacion.
                                $('#' + tree + i).removeAttr(""onchange"");
                                $('#' + tree + i).attr('onchange', ""InsertUpdateTitulo('"" + tree + ""','"" + i + ""','"" + response + ""','"" + idpy + ""','"" + permiso + ""')"");
                                //cambiamos el id tambien por el nuevo con solo los parametros requeridos para la actualizacion.
                          ");
                WriteLiteral(@"      $('#' + tree + i).attr('id', tree + '_' + response);

                                Swal.fire({
                                    toast: true,
                                    background: 'orange',
                                    icon: 'success',
                                    title: 'Titulo guardado',
                                    animation: false,
                                    position: 'bottom',
                                    showConfirmButton: false,
                                    timer: 3000,
                                    timerProgressBar: true,
                                    didOpen: (toast) => {
                                        toast.addEventListener('mouseenter', Swal.stopTimer)
                                        toast.addEventListener('mouseleave', Swal.resumeTimer)
                                    }
                                })

                            } else {
                                Swal.fire");
                WriteLiteral(@"({
                                    toast: true,
                                    background: 'orange',
                                    icon: 'error',
                                    title: 'Hubo un problema',
                                    animation: false,
                                    position: 'bottom',
                                    showConfirmButton: false,
                                    timer: 3000,
                                    timerProgressBar: true,
                                    didOpen: (toast) => {
                                        toast.addEventListener('mouseenter', Swal.stopTimer)
                                        toast.addEventListener('mouseleave', Swal.resumeTimer)
                                    }
                                })
                            }
                        },
                    });
                }
            }
        }

        //-------------------------------- para obtene");
                WriteLiteral(@"r la info de cada nivel...
        async function funGetInfo(lvlID) {
            return info = await funGetInfoFromDB(lvlID);
            //var info = await funGetInfoFromDB(lvlID);
            //console.log(info)
        };

        function funGetInfoFromDB(lvlID) {
            var url = ""/Home/funGetInfoFromDB"";
            return $.get(url, { lvlId: lvlID }, function (data) {
                //console.log(data);
            });
        }

        function insertOrUpdateInfoGrilla(tree, id, i, nodeId, permiso) {

            //console.log(permiso);
            if (typeof (permiso) === 'undefined' || permiso == ""VIEWER"") {

                Swal.fire('ADVERTENCIA', 'Puedes editar el proyecto en su respectiva pestaña EDITOR, si tienes el permiso correspondiente.', 'warning')

            } else {

                //tree: referencia al arbol
                //id: el id para actualizar en caso haya un registro guardado.
                //i: el contador de la caja empezando en 2 de izqu");
                WriteLiteral(@"ierda a derecha hasta el 51
                //nodeId: el valor del nivel del nodo en el que estamos.

                var urlToGo = """";
                var dataToGo;

                if (id > 0) {
                    //console.log(""ACTUALIZAR ! "")
                    var valorCajaUpdate = $('#' + tree + '_colvalue' + id).val();

                    urlToGo = ""/Home/funUpdateInfo"";
                    dataToGo = { ""id"": id, ""informacion"": valorCajaUpdate }

                    $.ajax({
                        type: ""POST"",
                        dataType: ""json"",
                        url: urlToGo,
                        data: dataToGo,
                        success: function (response) {

                            if (response > 0) {

                                Swal.fire({
                                    toast: true,
                                    background: 'orange',
                                    icon: 'success',
                                    title");
                WriteLiteral(@": 'Información actualizada',
                                    animation: false,
                                    position: 'bottom',
                                    showConfirmButton: false,
                                    timer: 3000,
                                    timerProgressBar: true,
                                    didOpen: (toast) => {
                                        toast.addEventListener('mouseenter', Swal.stopTimer)
                                        toast.addEventListener('mouseleave', Swal.resumeTimer)
                                    }
                                })

                            } else {

                                Swal.fire({
                                    toast: true,
                                    background: 'orange',
                                    icon: 'error',
                                    title: 'Hubo un problema',
                                    animation: false,
                 ");
                WriteLiteral(@"                   position: 'bottom',
                                    showConfirmButton: false,
                                    timer: 3000,
                                    timerProgressBar: true,
                                    didOpen: (toast) => {
                                        toast.addEventListener('mouseenter', Swal.stopTimer)
                                        toast.addEventListener('mouseleave', Swal.resumeTimer)
                                    }
                                })
                            }
                        },
                    });


                } else {
                    //console.log(""INSERTAR ! "")

                    var valorCajaInsert = $('#' + tree + '_colvalue_' + i + ""_"" + nodeId).val();

                    urlToGo = ""/Home/funInsertInfo"";
                    dataToGo = { ""idLvl"": nodeId, ""info"": valorCajaInsert }

                    $.ajax({
                        type: ""POST"",
                  ");
                WriteLiteral(@"      dataType: ""json"",
                        url: urlToGo,
                        data: dataToGo,
                        success: function (response) {

                            if (response > 0) {

                                //removemos la funcion onchange y la volvemos a agregar solo con los parametros necesarios para la actualizacion.
                                $('#' + tree + '_colvalue_' + i + ""_"" + nodeId).removeAttr(""onchange"");
                                $('#' + tree + '_colvalue_' + i + ""_"" + nodeId).attr('onchange', ""insertOrUpdateInfoGrilla('"" + tree + ""','"" + response + ""','"" + 0 + ""','"" + 0 + ""','"" + permiso + ""')"");
                                //cambiamos el id tambien por el nuevo con solo los parametros requeridos para la actualizacion.
                                $('#' + tree + '_colvalue_' + i + ""_"" + nodeId).attr('id', tree + '_colvalue' + response);

                                Swal.fire({
                                    toast: true,
   ");
                WriteLiteral(@"                                 background: 'orange',
                                    icon: 'success',
                                    title: 'Información guardada',
                                    animation: false,
                                    position: 'bottom',
                                    showConfirmButton: false,
                                    timer: 3000,
                                    timerProgressBar: true,
                                    didOpen: (toast) => {
                                        toast.addEventListener('mouseenter', Swal.stopTimer)
                                        toast.addEventListener('mouseleave', Swal.resumeTimer)
                                    }
                                })

                            } else {
                                Swal.fire({
                                    toast: true,
                                    background: 'orange',
                                    icon: ");
                WriteLiteral(@"'error',
                                    title: 'Hubo un problema',
                                    animation: false,
                                    position: 'bottom',
                                    showConfirmButton: false,
                                    timer: 3000,
                                    timerProgressBar: true,
                                    didOpen: (toast) => {
                                        toast.addEventListener('mouseenter', Swal.stopTimer)
                                        toast.addEventListener('mouseleave', Swal.resumeTimer)
                                    }
                                })
                            }
                        },
                    });
                }
            }
        }

        //-------------------------------- para obtener la info de cada nivel...
        function expandOrContract(vIdProyecto) {

            $(""#tree_"" + vIdProyecto).fancytree(""getRootNode"").visit(functi");
                WriteLiteral(@"on (node) {
                if (node.isExpanded() == true) {
                    node.setExpanded(false);
                } else {
                    node.setExpanded(true);
                }
            });
        }

        //Mensajito para la informacion que se puede editar proyecto
        function EdicionInfo() {
            Swal.fire('EDITOR', 'Puedes editar éste proyecto en su respectiva pestaña EDITOR, ya sea porque es tuyo o porque te concedieron dicho permiso.', 'info')
        }

        var tableToExcel = (function () {
            var uri = 'data:application/vnd.ms-excel;base64,'
                , template = '<html xmlns:o=""urn:schemas-microsoft-com:office:office"" xmlns:x=""urn:schemas-microsoft-com:office:excel"" xmlns=""http://www.w3.org/TR/REC-html40""><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook>");
                WriteLiteral(@"</xml><![endif]--></head><body><table>{table}</table></body></html>'
                , base64 = function (s) { return window.btoa(unescape(encodeURIComponent(s))) }
                , format = function (s, c) { return s.replace(/{(\w+)}/g, function (m, p) { return c[p]; }) }
            return function (table, name) {
                if (!table.nodeType) table = document.getElementById(table)
                var ctx = { worksheet: name || 'Worksheet', table: table.innerHTML }
                window.location.href = uri + base64(format(template, ctx))
            }
        })()

        function fnShowHideColumns(loadedTree) {

            var accionM = $(""#selectColumnas"").val();
            var accionU = $(""#selectColumnasUser"").val();

            //console.log(accionM)
            //console.log(accionU)

            var tree = $(""#"" + loadedTree).fancytree(""getTree"");
            var nodo = tree.getActiveNode();

            if (nodo === null) {

                Swal.fire('ATENCION', '");
                WriteLiteral(@"Debe seleccionar un Nivel', 'warning')

            } else {

                $tdList = $(nodo.tr).find("">td"");
               
                if (accionM == ""HIDEALL"" || accionU == ""HIDEALL"") {

                    //titulos
                    for (c = 0; c <= 48; c++) {
                        $('#' + loadedTree + '_colth_' + c).attr('style', ""display:none"");
                    }
                    $('#tree_0_colth_2').attr('style', ""display:none"");

                    //cuerpos
                    for (i = 2; i <= $tdList.length - 1; i++) {

                        $tdList[i].hidden = true;                        
                    }

                } else if (accionM == ""SHOWALL"" || accionU == ""SHOWALL""){

                    //titulos
                    for (c = 0; c <= 48; c++) {

                        $('#' + loadedTree + '_colth_' + c).removeAttr(""style"");
                        
                    }                    
                    //cuerpos
          ");
                WriteLiteral(@"          for (i = 2; i <= $tdList.length - 1; i++) {

                        $tdList[i].hidden = false;
                    }
                }       
            }
        }


        //----------------------------------------------------------> CARGA DE COLUMNAS PARA CONFIGURACION
        var checkedColumns = [];

        function columnId(idElement) {
            this.idElement = idElement;          
        };

        function loadColumnas(loadedTree, vIdProyecto) {

            $('#footer_columns_options').remove();
            var option_btns = """";
            
            //---------------------------------------------------------->
            //console.log(loadedTree, vIdProyecto)
            $('#tbodyAdminColumnas').remove();
            var cuerpo_columnas = """";

            var titulos = funGetTitulos(vIdProyecto)
            titulos.then(function (result) {

                //console.log(result);

                cuerpo_columnas = cuerpo_columnas + '<tbody id=""tb");
                WriteLiteral(@"odyAdminColumnas"">';

                result.forEach(function (element) {
                    
                    cuerpo_columnas = cuerpo_columnas + '<tr>';        
                  
                    const idPushed = checkedColumns.find(x => x.idElement == element.tituloID);
                    
                     if (typeof (idPushed) === 'undefined') {                       
                        //console.log(""NO ESTA PUSHEADO:"" + idPushed)
                         cuerpo_columnas = cuerpo_columnas + '<td><input onclick=""fnCheckColumnChanges(' + element.tituloID + ')"" value=' + element.tituloID + ' type=""checkbox"" class=""checkbox_check"" name=""checkbox_check[]""></td>';

                    } else {
                        //console.log(""YA ESTA PUSHEADO:"" + idPushed)
                         cuerpo_columnas = cuerpo_columnas + '<td><input onclick=""fnCheckColumnChanges(' + element.tituloID + ')"" value=' + element.tituloID +  ' type=""checkbox"" class=""checkbox_check"" name=""checkbox_chec");
                WriteLiteral(@"k[]"" checked></td>';
                    }                    
                    cuerpo_columnas = cuerpo_columnas + '<td><span class=""text-muted"">' + element.titulo + '</span></td>';

                    cuerpo_columnas = cuerpo_columnas + '</tr>';

                });
                cuerpo_columnas = cuerpo_columnas + '</tbody>';

                $('#tblAdminColumnas').append(cuerpo_columnas).fadeIn(300000);

                //------------------------------------------> Modal Cancel - Apply Options                

                option_btns = option_btns + '<div class=""modal-footer"" id=""footer_columns_options"">';
                option_btns = option_btns + '<button type=""button"" class=""btn me-auto"" data-bs-dismiss=""modal"">Cancelar</button>';
                option_btns = option_btns + '<button onclick=""fnApplyColumnChanges(`' + loadedTree + '`);"" type=""button"" class=""btn btn-primary"" data-bs-dismiss=""modal"">Ocultar</button>';
                option_btns = option_btns + '</div>';

    ");
                WriteLiteral(@"            $('#modalContent').append(option_btns).fadeIn(300000);
            });
        }

        //----------------------------------------------------------> Manejo de los checkboxes de la función anterior.
        function fnCheckColumnChanges() {

            if ($('input.checkbox_check').is(':checked') == true) {
                checkedColumns = [];
                var m = jQuery('input:checkbox[class=checkbox_check]:checked').length;
                if (m > 0) {
                    jQuery('input:checkbox[class=checkbox_check]:checked').each(function () {                       
                                             
                        checkedColumns.push(new columnId($(this).val()));                     
                    });
                } 
                //console.log(checkedColumns);
            }   else {
                checkedColumns = [];
                Swal.fire('ADVERTENCIA', 'No seleccionaste ninguna columna', 'warning')
            }
        }

   ");
                WriteLiteral(@"     function fnApplyColumnChanges(loadedTree) {            

            //ocultar columnas de los checkboxes checkeados.
            checkedColumns.forEach(function (checked_element) {
                //console.log(checked_element.idElement);            

                $('#' + loadedTree + '_colth_' + checked_element.idElement).hide();
                $('#' + loadedTree + '_coltd_' + checked_element.idElement).hide();

                console.log($('#' + loadedTree + '_coltd_' + checked_element.idElement));

            });

            //mostrar columnas de los checkboxes no checkeados.
            var unCheckedColumns = $(""input:checkbox:not(:checked)"").length;
            if (unCheckedColumns > 0) {
                jQuery(""input:checkbox:not(:checked)"").each(function () {
                    //console.log();
                    $('#' + loadedTree + '_colth_' + $(this).val()).show();
                    $('#' + loadedTree + '_coltd_' + $(this).val()).show();
                });
    ");
                WriteLiteral(@"        }
        }

        //function addColumn(tree, nodoId) {
        //    console.log(tree,nodoId)
        //    $('#' + tree + ' thead tr').append('<th id=th' + nodoId +'>Col</th>');
        //    $('#' + tree + ' tbody tr').append('<td id=td' + nodoId +'><input type=""text"" placeholder=""Ingrese algo""></td>');
        //}

    </script>
");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("body", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "bde1e7db0138e8d959ee09d20e24104c61c8850262779", async() => {
                WriteLiteral(@"

    <ul class=""nav nav-tabs nav-fill"" data-bs-toggle=""tabs"">

        <li class=""nav-item"">
            <a href=""#master"" onclick=""loadTree(0)"" class=""nav-link active""
               data-bs-toggle=""tab""><strong>MASTER</strong></a>
        </li>

");
#nullable restore
#line 1123 "C:\Users\didie\source\repos\ModeladorApp\ModeladorApp\Views\Home\Arbol.cshtml"
         foreach (var item in Model)
        {

#line default
#line hidden
#nullable disable
                WriteLiteral("            <li class=\"nav-item\">\r\n                <a");
                BeginWriteAttribute("href", " href=\"", 55096, "\"", 55129, 2);
                WriteAttributeValue("", 55103, "#proyecto_", 55103, 10, true);
#nullable restore
#line 1126 "C:\Users\didie\source\repos\ModeladorApp\ModeladorApp\Views\Home\Arbol.cshtml"
WriteAttributeValue("", 55113, item.ProyectoID, 55113, 16, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                BeginWriteAttribute("onclick", " onclick=\"", 55130, "\"", 55185, 6);
                WriteAttributeValue("", 55140, "loadTree(\'", 55140, 10, true);
#nullable restore
#line 1126 "C:\Users\didie\source\repos\ModeladorApp\ModeladorApp\Views\Home\Arbol.cshtml"
WriteAttributeValue("", 55150, item.ProyectoID, 55150, 16, false);

#line default
#line hidden
#nullable disable
                WriteAttributeValue("", 55166, "\',", 55166, 2, true);
                WriteAttributeValue(" ", 55168, "\'", 55169, 2, true);
#nullable restore
#line 1126 "C:\Users\didie\source\repos\ModeladorApp\ModeladorApp\Views\Home\Arbol.cshtml"
WriteAttributeValue("", 55170, item.Permiso, 55170, 13, false);

#line default
#line hidden
#nullable disable
                WriteAttributeValue("", 55183, "\')", 55183, 2, true);
                EndWriteAttribute();
                WriteLiteral(" class=\"nav-link\"\r\n                   data-bs-toggle=\"tab\">");
#nullable restore
#line 1127 "C:\Users\didie\source\repos\ModeladorApp\ModeladorApp\Views\Home\Arbol.cshtml"
                                   Write(Html.DisplayFor(modelItem => item.TB_PROYECTO.NombreProyecto));

#line default
#line hidden
#nullable disable
                WriteLiteral(" (");
#nullable restore
#line 1127 "C:\Users\didie\source\repos\ModeladorApp\ModeladorApp\Views\Home\Arbol.cshtml"
                                                                                                   Write(item.Permiso);

#line default
#line hidden
#nullable disable
                WriteLiteral(")</a>\r\n            </li>\r\n");
#nullable restore
#line 1129 "C:\Users\didie\source\repos\ModeladorApp\ModeladorApp\Views\Home\Arbol.cshtml"
        }

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n    </ul>\r\n\r\n    <div class=\"card\">\r\n\r\n");
                WriteLiteral(@"        <div class=""card-body"" id=""loader"">
            <div class=""empty"">
                <div class=""empty-img"">
                    <img src=""https://miro.medium.com/max/875/1*CsJ05WEGfunYMLGfsT2sXA.gif"" height=""128"">
                </div>
                <p class=""empty-title"">Cargando proyectos...</p>
            </div>
        </div>
");
                WriteLiteral(@"
        <div class=""tab-content"">

            <div class=""tab-pane"" id=""proyecto_0"">

                <div class=""row align-items-center"">
                    <div class=""col-auto ms-auto d-print-none"">
                        <div class=""btn-list"">

");
                WriteLiteral("\r\n\r\n                            <span class=\"d-none d-sm-inline\">\r\n                                <select class=\"form-select\" id=\"selectColumnas\" onchange=\"fnShowHideColumns(\'tree_0\');\">\r\n                                    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "bde1e7db0138e8d959ee09d20e24104c61c8850266915", async() => {
                    WriteLiteral("Columnas");
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n                                    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "bde1e7db0138e8d959ee09d20e24104c61c8850268055", async() => {
                    WriteLiteral("Mostrar todas");
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = (string)__tagHelperAttribute_1.Value;
                __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n                                    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "bde1e7db0138e8d959ee09d20e24104c61c8850269322", async() => {
                    WriteLiteral("Ocultar todas");
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = (string)__tagHelperAttribute_2.Value;
                __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_2);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral(@"
                                </select>
                            </span>


                            <span class=""d-none d-sm-inline"">
                                <a onclick=""tableToExcel('tree_0', 'Modelador_Master')"" style=""cursor:pointer"" href=""#"" class=""btn btn-secondary"">
                                    EXCEL
                                </a>
                            </span>

                            <span class=""d-none d-sm-inline"">
                                <a onclick=""expandOrContract(0)"" class=""btn btn-secondary"">
                                    Expandir/Contraer
                                </a>
                            </span>

");
                WriteLiteral(@"
                        </div>
                    </div>
                </div>

                <table id=""tree_0"">
                    <colgroup>
                        <col width=""2%"" />
                        <col width=""58%"" />
                        <col width=""1%"" />
                    </colgroup>
                    <thead>
                        <tr id=""head_tree_0"">
                            <th>#</th>
                            <th>Identificador - Nombre</th>

                        </tr>
                    </thead>
                    <tbody>
                        <!-- Define a row template for all invariant markup: -->
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
        ");
                WriteLiteral(@"                    <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                  ");
                WriteLiteral(@"          <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>

                        </tr>
                    </tbody>
                </table>

            </div>

");
#nullable restore
#line 1268 "C:\Users\didie\source\repos\ModeladorApp\ModeladorApp\Views\Home\Arbol.cshtml"
             foreach (var item in Model)
            {

#line default
#line hidden
#nullable disable
                WriteLiteral("                <div class=\"tab-pane\"");
                BeginWriteAttribute("id", " id=\"", 60846, "\"", 60876, 2);
                WriteAttributeValue("", 60851, "proyecto_", 60851, 9, true);
#nullable restore
#line 1270 "C:\Users\didie\source\repos\ModeladorApp\ModeladorApp\Views\Home\Arbol.cshtml"
WriteAttributeValue("", 60860, item.ProyectoID, 60860, 16, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(">\r\n\r\n                    <div class=\"row align-items-center\">\r\n                        <div class=\"col-auto ms-auto d-print-none\">\r\n                            <div class=\"btn-list\">\r\n\r\n");
                WriteLiteral("\r\n\r\n                                <span class=\"d-none d-sm-inline\">\r\n                                    <select class=\"form-select\" id=\"selectColumnasUser\"");
                BeginWriteAttribute("onchange", " onchange=\"", 61621, "\"", 61675, 3);
                WriteAttributeValue("", 61632, "fnShowHideColumns(\'tree_", 61632, 24, true);
#nullable restore
#line 1284 "C:\Users\didie\source\repos\ModeladorApp\ModeladorApp\Views\Home\Arbol.cshtml"
WriteAttributeValue("", 61656, item.ProyectoID, 61656, 16, false);

#line default
#line hidden
#nullable disable
                WriteAttributeValue("", 61672, "\');", 61672, 3, true);
                EndWriteAttribute();
                WriteLiteral(">\r\n                                        ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "bde1e7db0138e8d959ee09d20e24104c61c8850276035", async() => {
                    WriteLiteral("Columnas");
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n                                        ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "bde1e7db0138e8d959ee09d20e24104c61c8850277179", async() => {
                    WriteLiteral("Mostrar todas");
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = (string)__tagHelperAttribute_1.Value;
                __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n                                        ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "bde1e7db0138e8d959ee09d20e24104c61c8850278450", async() => {
                    WriteLiteral("Ocultar todas");
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = (string)__tagHelperAttribute_2.Value;
                __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_2);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n                                    </select>\r\n                                </span>\r\n\r\n\r\n                                <span class=\"d-none d-sm-inline\">\r\n                                    <a");
                BeginWriteAttribute("onclick", " onclick=\"", 62131, "\"", 62175, 3);
                WriteAttributeValue("", 62141, "expandOrContract(", 62141, 17, true);
#nullable restore
#line 1293 "C:\Users\didie\source\repos\ModeladorApp\ModeladorApp\Views\Home\Arbol.cshtml"
WriteAttributeValue("", 62158, item.ProyectoID, 62158, 16, false);

#line default
#line hidden
#nullable disable
                WriteAttributeValue("", 62174, ")", 62174, 1, true);
                EndWriteAttribute();
                WriteLiteral(" class=\"btn btn-secondary\">\r\n                                        Expandir/Contraer\r\n                                    </a>\r\n                                </span>\r\n");
#nullable restore
#line 1297 "C:\Users\didie\source\repos\ModeladorApp\ModeladorApp\Views\Home\Arbol.cshtml"
                                 if (item.Permiso == "EDITOR")
                                {

#line default
#line hidden
#nullable disable
                WriteLiteral(@"                                    <span class=""d-none d-sm-inline"">
                                        <a onclick=""EdicionInfo()"" class=""btn btn-primary"">
                                            Puedes editar este proyecto
                                        </a>
                                    </span>
");
#nullable restore
#line 1304 "C:\Users\didie\source\repos\ModeladorApp\ModeladorApp\Views\Home\Arbol.cshtml"
                                }

#line default
#line hidden
#nullable disable
                WriteLiteral("                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    <table");
                BeginWriteAttribute("id", " id=\"", 62935, "\"", 62961, 2);
                WriteAttributeValue("", 62940, "tree_", 62940, 5, true);
#nullable restore
#line 1310 "C:\Users\didie\source\repos\ModeladorApp\ModeladorApp\Views\Home\Arbol.cshtml"
WriteAttributeValue("", 62945, item.ProyectoID, 62945, 16, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(@">
                        <colgroup>
                            <col width=""2%"" />
                            <col width=""58%"" />
                            <col width=""1%"" />
                        </colgroup>
                        <thead>
                            <tr");
                BeginWriteAttribute("id", " id=\"", 63247, "\"", 63278, 2);
                WriteAttributeValue("", 63252, "head_tree_", 63252, 10, true);
#nullable restore
#line 1317 "C:\Users\didie\source\repos\ModeladorApp\ModeladorApp\Views\Home\Arbol.cshtml"
WriteAttributeValue("", 63262, item.ProyectoID, 63262, 16, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(@">
                                <th>#</th>
                                <th>Identificador - Nombre</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Define a row template for all invariant markup: -->
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
  ");
                WriteLiteral(@"                              <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td><");
                WriteLiteral(@"/td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>

                </div>
");
#nullable restore
#line 1382 "C:\Users\didie\source\repos\ModeladorApp\ModeladorApp\Views\Home\Arbol.cshtml"
            }

#line default
#line hidden
#nullable disable
                WriteLiteral(@"
        </div>
    </div>


    <div class=""modal modal-blur fade"" id=""modal-simple"" tabindex=""-1"" role=""dialog"" aria-hidden=""true"">
        <div class=""modal-dialog modal-dialog-centered"" role=""document"">
            
            <div class=""modal-content"" id=""modalContent"">
                <div class=""modal-header"">
                    <h5 class=""modal-title"">Administración de Columnas</h5>
                    <button type=""button"" class=""btn-close"" data-bs-dismiss=""modal"" aria-label=""Close""></button>
                </div>
                <div class=""modal-body"">

                    Desde aquí podrá elegir las columnas que desee mostrar u ocultar. Haga <br />
                    Check para Ocultarla o <br />
                    Uncheck para Mostrarla.

                    <div class=""table-responsive"">
                        <table id=""tblAdminColumnas"" class=""table card-table table-vcenter text-nowrap datatable"">
                            <thead>
                                ");
                WriteLiteral("<tr>\r\n");
                WriteLiteral(@"                                    <th>Opción</th>
                                    <th>Nombre de Columna</th>
                                </tr>
                            </thead>

                        </table>
                    </div>

                </div>              

            </div>
        </div>
    </div>



    <div class=""modal modal-blur fade"" id=""modal-new-project"" tabindex=""-1"" role=""dialog"" aria-hidden=""true"">
        <div class=""modal-dialog modal-lg"" role=""document"">
            <div class=""modal-content"">
                <div class=""modal-header"">
                    <h5 class=""modal-title"">Clonar Proyecto MASTER</h5>
                    <button type=""button"" class=""btn-close"" data-bs-dismiss=""modal"" aria-label=""Close""></button>
                </div>
                <div class=""modal-body"">

                    <div class=""row"">
                        <div class=""col-lg-12"">
                            <div class=""mb-3"">
                      ");
                WriteLiteral(@"          <label class=""form-label"">Nombre</label>
                                <input id=""txtPyNombre"" type=""text"" class=""form-control""
                                       name=""example-text-input"" placeholder=""Escribe un Nombre para tu Proyecto"">
                            </div>
                        </div>

                        <div class=""col-lg-12"">
                            <div>
                                <label class=""form-label"">Describe tu proyecto</label>
                                <textarea id=""txtPyDescripcion"" class=""form-control"" rows=""8""></textarea>
                            </div>
                        </div>


                    </div>
                </div>

                <div class=""modal-footer"">
                    <a href=""#"" class=""btn btn-link link-secondary"" data-bs-dismiss=""modal"">
                        Cancelar
                    </a>
                    <a onclick=""createProject()"" class=""btn btn-primary ms-auto"">
          ");
                WriteLiteral(@"              <svg xmlns=""http://www.w3.org/2000/svg""
                             class=""icon"" width=""24"" height=""24""
                             viewBox=""0 0 24 24"" stroke-width=""2""
                             stroke=""currentColor""
                             fill=""none"" stroke-linecap=""round"" stroke-linejoin=""round"">
                            <path stroke=""none"" d=""M0 0h24v24H0z"" fill=""none"" />
                            <line x1=""12"" y1=""5"" x2=""12"" y2=""19"" />
                            <line x1=""5"" y1=""12"" x2=""19"" y2=""12"" />
                        </svg>
                        Clonar
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- (Irrelevant source removed.) -->
    <script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery.fancytree/2.38.0/jquery.fancytree-all-deps.min.js""></script>
    <script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery.fancytree/2.38.0/jquery.fancytree.min.js""></script>

");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n\r\n</html>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<IEnumerable<ModeladorApp.Models.Entities.TB_PERMISOS>> Html { get; private set; }
    }
}
#pragma warning restore 1591
